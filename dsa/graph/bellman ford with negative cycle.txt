#include <bits/stdc++.h>
using namespace std;

int main() {
    int t;
    cin>>t;
    while(t--){
        int v,e;
        cin>>v>>e;
        vector<int> dis(v, INT_MAX);
        vector<pair<int, pair<int, int>>> edges(e);
        for(int i=0;i<e;i++){
            int a,b,c;
            cin>>a>>b>>c;
            edges[i] = {c, {a, b}};
        }
        dis[0] = 1;
        for(int j=0;j<v-1;j++){
            for(int i=0;i<e;i++){
                if(dis[edges[i].second.first]!=INT_MAX && dis[edges[i].second.second]> 
                dis[edges[i].second.first]+edges[i].first){
                    dis[edges[i].second.second] = dis[edges[i].second.first]+edges[i].first;
                }
            }
        }
        int is = 1;
        for(int i=0;i<e;i++)
            if(dis[edges[i].second.first]!=INT_MAX && dis[edges[i].second.second]> dis[edges[i].second.first] + edges[i].first){
                cout<<1/*<<i*/<<endl;
                //cout<<dis[edges[i].second.first]<<' '<<dis[edges[i].second.second]<<' '<<edges[i].first<<endl;
                is=0;
            }
        if(is)
            cout<<0<<endl;
    }
	return 0;
}